{% extends 'base.html' %} 

{% block content %}
<h1 class="text-3xl font-bold mb-6 text-slate-900 dark:text-white">Categories</h1>

{% if messages %}
<div class="mb-6">
  {% for message in messages %}
    <div class="p-4 rounded mb-2 {% if message.tags == 'success' %}bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200{% elif message.tags == 'error' %}bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200{% else %}bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200{% endif %}">
      {{ message }}
    </div>
  {% endfor %}
</div>
{% endif %}

<a
  href="{% url 'category_create' %}"
  class="bg-emerald-700 text-white py-2 px-4 rounded hover:bg-purple-900 hover:ease-in duration-300 mb-4 inline-block"
  >Add Category</a
>

<ul class="space-y-2 max-w-3xl">
  {% for category in categories %}
  <li class="flex justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-lg shadow">
    {% if category.idea_set.exists %}
    <a
      href="{% url 'category_ideas' category.slug %}"
      class="text-purple-950 dark:text-purple-300 hover:text-purple-800 dark:hover:text-purple-400">
      {{ category.name }}
    </a>
    {% else %}
    <span class="text-slate-900 dark:text-slate-300">{{ category.name }}</span>
    {% endif %}
    <div>
      <a
        href="{% url 'category_update' category.pk %}"
        class="text-purple-950 dark:text-purple-300 hover:text-purple-800 dark:hover:text-purple-400 mr-4"
        >Edit</a
      >
      <a
        href="{% url 'category_delete' category.pk %}"
        class="text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300"
        >Delete</a
      >
    </div>
  </li>
  {% empty %}
  <li class="text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 p-4 rounded-lg shadow">
    No categories yet.
  </li>
  {% endfor %}
</ul>
{% endblock %}
